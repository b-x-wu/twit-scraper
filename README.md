# Twit-Scraper

An open-source version of Twitter's API with no usage caps, no required registration, and no fees.

TODO: turn todos into github issues

## Quick Start

TODO: write the quick start

## A word on scope

TODO: rewrite scope

I'm going to try to hit the readonly tweets and users endpoints and only concern myself with the tweet, user, and media objects (and only some of the fields therein). I will consider everything else to be out of scope. More specifics on which fields and which endpoints are hit can be found in the Documentation section.

## Endpoints

This API aims to follow Twitter's proprietary API as closely as possible, so if your application is already making valid calls to `api.twitter.com`, then you're already most of the way there. However, there are a few subtle differences, so read carefully if your application is running into issues.

### `/tweets`

Provides information about multiple tweets given an array of Tweet IDs.

#### Query Parameters

| Name                         | Type   | Details                                                                                                                                                                                 |
| :--------------------------- | :----- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `ids`                        | string | A comma separated list of Tweet IDs.                                                                                                                                                    |
| `tweet.fields`<br>(optional) | string | A comma separated list of valid [tweet fields](#tweet-fields). Invalid strings will be ignored. If none are provided, only the Tweet ID, Tweet text, and edit history will be returned. |

#### Response Fields

<details><summary>Click to expand...</summary>
<p>

| Name                                   | Type                                                                                              | Details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| :------------------------------------- | :------------------------------------------------------------------------------------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `data`                                 | object array                                                                                      | Information about the Tweets that did not send back errors while retrieving. Each object in the array represents a single Tweet. Object fields are detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `data.id`                              | string                                                                                            | The unique ID of the Tweet. All characters are numeric.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.text`                            | string                                                                                            | The text content of the Tweet. If there is media in the tweet, a link to the media will be present in this field. Urls may use Twitter shortening with their `t.co` domain and not appear as they do in the Tweet in the client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `data.edit_history_tweet_ids`          | string array                                                                                      | The unique IDs of different edit versions of the Tweet. If the Tweet has no been edited, there will be one ID which will be the same as the `id` field. For Tweets that have been edited, the IDs will be arranged with the most recent version's ID placed last and the oldest version's ID coming first. Each of these IDs can be treated as its own independent Tweet ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `data.attachments`                     | object                                                                                            | Information about the attachments present on the Tweet if any exist. Object fields are detailed below.<br><br>The `'attachments'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `data.attachments.media_keys`          | string array                                                                                      | The unique media keys of the media present on the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `data.attachments.poll_ids`            | string array                                                                                      | The unique IDs of the polls present on the tweet. All characters are numeric.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `data.author_id`                       | string                                                                                            | The unique ID of the user who authoring the tweet. All characters are numeric.<br><br>The `'author_id'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.conversation_id`                 | string                                                                                            | The unique ID of the conversation this Tweet participates in. If this Tweet is a reply, this ID will be the ID of the original Tweet of the conversation (ie the singular Tweet in the conversation that is not a reply). If this Tweet is not a reply, this will be the same as the `id` field.<br><br>The `'conversation_id'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `data.created_at`                      | string<br>(ISO 8691)                                                                              | The date and time at which the Tweet was posted.<br><br>The `'created_at'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.edit_controls`                   | object array                                                                                      | Information detailing the edit history and editability of the tweet. Object fields are detailed below.<br><br>The `'edit_controls'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `data.edit_controls.editable_until`    | string<br>(ISO 8691)                                                                              | The date and time at which the Tweet is no longer able to be edited.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.edit_controls.is_edit_eligible`  | boolean                                                                                           | Whether or not this Tweet was able to be edited when it was first posted. This field does **not** detail if this Tweet is necessarily currently able to be edited. Per [Twitter API documentation](https://developer.twitter.com/en/docs/twitter-api/tweets/lookup/api-reference/get-tweets), this field will be false if: <ul><li>The Tweet is promoted</li><li>The Tweet has a poll</li><li>The Tweet is a non-self-thread reply</li><li>The Tweet is a retweet (though quote retweets are still edit eligible)</li><li>The Tweet is nullcast</li><li>The Tweet is a Community Tweet</li><li>The Tweet is a Superfollow Tweet</li><li>The Tweet is a Collaborative Tweet</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.edit_controls.edits_remaining`   | integer                                                                                           | The number of times that this Tweet can still be edited. Will not be greater than five.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.entities`                        | object                                                                                            | Information about special text within a Tweet such as mentions, hashtags, and urls. Object fields are detailed below.<br><br>The `'entities'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `data.entities.hashtags`               | object array                                                                                      | Information about the hashtags present in a Tweet. Object fields are detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.entities.hashtags.start`         | number                                                                                            | The inclusive zero-based index of the start of the hashtag within the Tweet. This start includes the `#` character.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `data.entities.hashtags.end`           | number                                                                                            | The exlusive zero-based index of the end of the hashtag within the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `data.entities.hashtags.text`          | string                                                                                            | The text content of the hashtag. The leading `#` is not included.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `data.entities.mentions`               | object array                                                                                      | Information about the mentions present in a Tweet. Object fields are detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.entities.mentions.start`         | number                                                                                            | The inclusive zero-based index of the start of the mention within the Tweet. This start includes the `@` character.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `data.entities.mentions.end`           | number                                                                                            | The exlusive zero-based index of the end of the mention within the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `data.entities.mentions.username`      | string                                                                                            | The username (ie Twitter handle) of the user being mentioned.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `data.entities.urls`                   | object array                                                                                      | Information about the urls present in a Tweet. Object fields are detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `data.entities.urls.start`             | number                                                                                            | The inclusive zero-based index of the start of the url within the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `data.entities.urls.end`               | number                                                                                            | The exlusive zero-based index of the end of the url within the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `data.entities.urls.display_url`       | string                                                                                            | The url as it is displayed by the Twitter client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `data.entities.urls.expanded_url`      | string                                                                                            | The fully resolved url.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.entities.urls.url`               | string                                                                                            | The Twitter shortend version the url. Following the url takes the user to the same page as the expanded url. Twitter shortened urls come in the form `https://t.co/<path>`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `data.in_reply_to_user_id`             | string                                                                                            | The unique user ID of the user who posted the Tweet that this Tweet replies to. If this Tweet is not a reply, this field will not be present. All characters are numeric.<br><br>The `'in_reply_to_user_id'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `data.lang`                            | string<br>(BCP47 language tag)                                                                    | The language of the Tweet if detected by Twitter. If there is no text in the tweet, this field will be `'zxx'`. <br><br>The `'lang'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `data.public_metrics`                  | object                                                                                            | Information about the metrics of the Tweet including likes, retweets, and replies.<br><br>The `'public_metrics'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `data.public_metrics.like_count`       | integer                                                                                           | The number of likes the Tweet received at the time of retrieval.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `data.public_metrics.retweet_count`    | integer                                                                                           | The number of retweets the Tweet received at the time of retrieval.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `data.public_metrics.reply_count`      | integer                                                                                           | The number of replies the Tweet received at the time of retrieval.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `data.public_metrics.quote_count`      | integer                                                                                           | The number of quote retweets the Tweet received at the time of retrieval.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `data.public_metrics.impression_count` | integer                                                                                           | The number of views the Tweet received at the time of retrieval. If the Tweet was created before the implementation of view counts, this field will not exist.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `data.possibly_sensitive`              | boolean                                                                                           | Whether or not this Tweet contains urls marked as sensitive.<br><br>The `'possibly_sensitive'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `data.referenced_tweets`               | object array                                                                                      | Information about the Tweets that this Tweet is retweeting, quote retweeting, or replying to. Object fields are detailed below.<br><br>The `'referenced_tweets'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `data.referenced_tweets.type`          | `'retweeted'`, `'quoted'`, or `'replied_to'`                                                      | The type of reference this Tweet is making to the Tweet in this object.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.referenced_tweets.id`            | string                                                                                            | The ID of the Tweet that this Tweet is refering to.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `data.reply_settings`                  | `'everyone'`, `'followers'`, or `'mentioned_users'`                                               | Which users are able to reply to this Tweet.<br><br>The `'reply_settings'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.source`                          | string                                                                                            | The name of the app or client this Tweet was posted from<br><br>The `'source'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `errors`                               | object array                                                                                      | Information about the Tweets that sent back errors while retrieving. Each object in the array represents a single Tweet. Object fields are detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `errors.status`                        | integer<br>(HTTP status)                                                                          | The HTTP status of the response. Will always be greater than or equal to 400.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `errors.reason`                        | `'resource-not-found'`, `'server-error'`, `'not-authorized-for-resource'`, or `'invalid-request'` | The reason the error occured. Each error reason corresponds to an HTTP status according to [RFC 9110](https://httpwg.org/specs/rfc9110.html#overview.of.status.codes). These reasons generally correspond to the ones given by [Twitter's proprietary API](https://developer.twitter.com/en/support/twitter-api/error-troubleshooting).<br><br>`'resource-not-found'` corresponds to a 404 status and implies that a Tweet with the given ID cannot be found.<br><br>`'server-error'` corresponds to a 500 status and implies that there was an error on the server side.<br><br>`'not-authorized-for-resource'` corresponds to a 403 status and implies that for some reason, Twitter does not authorize the viewing this particular Tweet to an unauthorized user. This may be because the Tweet was posted from a private account, the Tweet was deleted, or the Tweet contains age-restricted content.<br><br>`'invalid-request'` corresponds to a 400 status and implies that the request format was incorrect. For this endpoint, it likely implies that no Tweet IDs were given. |
| `errors.detail`                        | string                                                                                            | A human readable string containing information about the failure.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `errors.data`                          | object or null                                                                                    | Related information to the error can be found in this field. Some errors may not return any data, but most errors from this endpoint will at least contain the ID of the Tweet that threw the error in the `id` field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
</details>

#### Example Request

TODO: replace with the actual domain when that's up

```bash
curl -X GET "http://localhost:3000/tweets?ids=1624773381865218051,1624410951616266242,12345&tweet.fields=attachments,author_id,created_at,public_metrics"
```

#### Example Response

```json
{
  "data": [
    {
      "id": "1624773381865218051",
      "text": "I had a dream where I was commissioned to draw a snake holding a cup of coffee and spent the whole dream working out the logistics of this. In a world where I love many things, two things I do not particularly like are 1. Snakes, and 2. Coffee. But ok this is cute. https://t.co/KDwAGokUGx",
      "edit_history_tweet_ids": [
        "1624773381865218051"
      ],
      "attachments": {
        "media_keys": [
          "3_1624773378870595590",
          "3_1624773378870546437",
          "3_1624773378878889993"
        ]
      },
      "author_id": "17053",
      "created_at": "2023-02-12T14:12:15.000Z",
      "public_metrics": {
      "like_count": 1332,
      "retweet_count": 92,
      "reply_count": 20,
      "quote_count": 5,
      "impression_count": 29201
      }
    },
    {
      "id": "1624410951616266242",
      "text": "Finally finished the new build of Untitled Magnet Game. First stop for playtesting: family! https://t.co/s3vPQxbo8Y",
      "edit_history_tweet_ids": [
        "1624410951616266242"
      ],
      "attachments": {
        "media_keys": [
          "3_1624410938039316484",
          "3_1624410876693430275",
          "3_1624410876726939653",
          "3_1624410876781494273"
        ]
      },
      "author_id": "10211472",
      "created_at": "2023-02-11T14:12:05.000Z",
      "public_metrics": {
        "like_count": 1017,
        "retweet_count": 28,
        "reply_count": 23,
        "quote_count": 1,
        "impression_count": 58600
      }
    }
  ],
  "errors": [
    {
      "reason": "resource-not-found",
      "detail": "Tweet data was not initialized. Cannot get base tweet. Tweet may not exist.",
      "data": {
        "id": "12345"
      },
      "status": 404
    }
  ]
}
```

### `/tweets/:id`

Provides information about a single tweet given a Tweet ID.
#### Path Parameters

|Name|Type|Details|
|:--|:--|:--|
|`id`|string|The unique ID of the Tweet being requested.|

#### Response Fields

| Name                         | Type   | Details                                                                                                                                                                                 |
| :--------------------------- | :----- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `tweet.fields`<br>(optional) | string | A comma separated list of valid [tweet fields](#tweet-fields). Invalid strings will be ignored. If none are provided, only the Tweet ID, Tweet text, and edit history will be returned. |

#### Query Parameters

| Name                         | Type   | Details                                                                                                                                                                                 |
| :--------------------------- | :----- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `tweet.fields`<br>(optional) | string | A comma separated list of valid [tweet fields](#tweet-fields). Invalid strings will be ignored. If none are provided, only the Tweet ID, Tweet text, and edit history will be returned. |



#### Response Fields

<details><summary>Click to expand...</summary>
<p>

| Name                                   | Type                                                                                              | Details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| :------------------------------------- | :------------------------------------------------------------------------------------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `data`                                 | object                                                                                  | Information about the Tweet corresponding to the given ID. This object will not exist if retrieving the Tweet raises an error. Object fields detailed below.
| `data.id`                              | string                                                                                            | The unique ID of the Tweet. All characters are numeric.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.text`                            | string                                                                                            | The text content of the Tweet. If there is media in the tweet, a link to the media will be present in this field. Urls may use Twitter shortening with their `t.co` domain and not appear as they do in the Tweet in the client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `data.edit_history_tweet_ids`          | string array                                                                                      | The unique IDs of different edit versions of the Tweet. If the Tweet has no been edited, there will be one ID which will be the same as the `id` field. For Tweets that have been edited, the IDs will be arranged with the most recent version's ID placed last and the oldest version's ID coming first. Each of these IDs can be treated as its own independent Tweet ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `data.attachments`                     | object                                                                                            | Information about the attachments present on the Tweet if any exist. Object fields are detailed below.<br><br>The `'attachments'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `data.attachments.media_keys`          | string array                                                                                      | The unique media keys of the media present on the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `data.attachments.poll_ids`            | string array                                                                                      | The unique IDs of the polls present on the tweet. All characters are numeric.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `data.author_id`                       | string                                                                                            | The unique ID of the user who authoring the tweet. All characters are numeric.<br><br>The `'author_id'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.conversation_id`                 | string                                                                                            | The unique ID of the conversation this Tweet participates in. If this Tweet is a reply, this ID will be the ID of the original Tweet of the conversation (ie the singular Tweet in the conversation that is not a reply). If this Tweet is not a reply, this will be the same as the `id` field.<br><br>The `'conversation_id'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `data.created_at`                      | string<br>(ISO 8691)                                                                              | The date and time at which the Tweet was posted.<br><br>The `'created_at'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.edit_controls`                   | object array                                                                                      | Information detailing the edit history and editability of the tweet. Object fields are detailed below.<br><br>The `'edit_controls'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `data.edit_controls.editable_until`    | string<br>(ISO 8691)                                                                              | The date and time at which the Tweet is no longer able to be edited.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.edit_controls.is_edit_eligible`  | boolean                                                                                           | Whether or not this Tweet was able to be edited when it was first posted. This field does **not** detail if this Tweet is necessarily currently able to be edited. Per [Twitter API documentation](https://developer.twitter.com/en/docs/twitter-api/tweets/lookup/api-reference/get-tweets), this field will be false if: <ul><li>The Tweet is promoted</li><li>The Tweet has a poll</li><li>The Tweet is a non-self-thread reply</li><li>The Tweet is a retweet (though quote retweets are still edit eligible)</li><li>The Tweet is nullcast</li><li>The Tweet is a Community Tweet</li><li>The Tweet is a Superfollow Tweet</li><li>The Tweet is a Collaborative Tweet</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.edit_controls.edits_remaining`   | integer                                                                                           | The number of times that this Tweet can still be edited. Will not be greater than five.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.entities`                        | object                                                                                            | Information about special text within a Tweet such as mentions, hashtags, and urls. Object fields are detailed below.<br><br>The `'entities'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `data.entities.hashtags`               | object array                                                                                      | Information about the hashtags present in a Tweet. Object fields are detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.entities.hashtags.start`         | number                                                                                            | The inclusive zero-based index of the start of the hashtag within the Tweet. This start includes the `#` character.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `data.entities.hashtags.end`           | number                                                                                            | The exlusive zero-based index of the end of the hashtag within the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `data.entities.hashtags.text`          | string                                                                                            | The text content of the hashtag. The leading `#` is not included.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `data.entities.mentions`               | object array                                                                                      | Information about the mentions present in a Tweet. Object fields are detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `data.entities.mentions.start`         | number                                                                                            | The inclusive zero-based index of the start of the mention within the Tweet. This start includes the `@` character.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `data.entities.mentions.end`           | number                                                                                            | The exlusive zero-based index of the end of the mention within the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `data.entities.mentions.username`      | string                                                                                            | The username (ie Twitter handle) of the user being mentioned.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `data.entities.urls`                   | object array                                                                                      | Information about the urls present in a Tweet. Object fields are detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `data.entities.urls.start`             | number                                                                                            | The inclusive zero-based index of the start of the url within the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `data.entities.urls.end`               | number                                                                                            | The exlusive zero-based index of the end of the url within the Tweet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `data.entities.urls.display_url`       | string                                                                                            | The url as it is displayed by the Twitter client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `data.entities.urls.expanded_url`      | string                                                                                            | The fully resolved url.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.entities.urls.url`               | string                                                                                            | The Twitter shortend version the url. Following the url takes the user to the same page as the expanded url. Twitter shortened urls come in the form `https://t.co/<path>`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `data.in_reply_to_user_id`             | string                                                                                            | The unique user ID of the user who posted the Tweet that this Tweet replies to. If this Tweet is not a reply, this field will not be present. All characters are numeric.<br><br>The `'in_reply_to_user_id'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `data.lang`                            | string<br>(BCP47 language tag)                                                                    | The language of the Tweet if detected by Twitter. If there is no text in the tweet, this field will be `'zxx'`. <br><br>The `'lang'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `data.public_metrics`                  | object                                                                                            | Information about the metrics of the Tweet including likes, retweets, and replies.<br><br>The `'public_metrics'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `data.public_metrics.like_count`       | integer                                                                                           | The number of likes the Tweet received at the time of retrieval.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `data.public_metrics.retweet_count`    | integer                                                                                           | The number of retweets the Tweet received at the time of retrieval.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `data.public_metrics.reply_count`      | integer                                                                                           | The number of replies the Tweet received at the time of retrieval.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `data.public_metrics.quote_count`      | integer                                                                                           | The number of quote retweets the Tweet received at the time of retrieval.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `data.public_metrics.impression_count` | integer                                                                                           | The number of views the Tweet received at the time of retrieval. If the Tweet was created before the implementation of view counts, this field will not exist.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `data.possibly_sensitive`              | boolean                                                                                           | Whether or not this Tweet contains urls marked as sensitive.<br><br>The `'possibly_sensitive'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `data.referenced_tweets`               | object array                                                                                      | Information about the Tweets that this Tweet is retweeting, quote retweeting, or replying to. Object fields are detailed below.<br><br>The `'referenced_tweets'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `data.referenced_tweets.type`          | `'retweeted'`, `'quoted'`, or `'replied_to'`                                                      | The type of reference this Tweet is making to the Tweet in this object.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.referenced_tweets.id`            | string                                                                                            | The ID of the Tweet that this Tweet is refering to.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `data.reply_settings`                  | `'everyone'`, `'followers'`, or `'mentioned_users'`                                               | Which users are able to reply to this Tweet.<br><br>The `'reply_settings'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `data.source`                          | string                                                                                            | The name of the app or client this Tweet was posted from<br><br>The `'source'` Tweet field must be present on the request's `tweet.fields` query parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `errors`                               | object | Information about errors encountered while retrieving the Tweet. If retrieving the Tweet threw no errors, this field will not exist. Object fields are detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `errors.status`                        | integer<br>(HTTP status)                                                                          | The HTTP status of the response. Will always be greater than or equal to 400.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `errors.reason`                        | `'resource-not-found'`, `'server-error'`, `'not-authorized-for-resource'`, or `'invalid-request'` | The reason the error occured. Each error reason corresponds to an HTTP status according to [RFC 9110](https://httpwg.org/specs/rfc9110.html#overview.of.status.codes). These reasons generally correspond to the ones given by [Twitter's proprietary API](https://developer.twitter.com/en/support/twitter-api/error-troubleshooting).<br><br>`'resource-not-found'` corresponds to a 404 status and implies that a Tweet with the given ID cannot be found.<br><br>`'server-error'` corresponds to a 500 status and implies that there was an error on the server side.<br><br>`'not-authorized-for-resource'` corresponds to a 403 status and implies that for some reason, Twitter does not authorize the viewing this particular Tweet to an unauthorized user. This may be because the Tweet was posted from a private account, the Tweet was deleted, or the Tweet contains age-restricted content.<br><br>`'invalid-request'` corresponds to a 400 status and implies that the request format was incorrect. For this endpoint, it likely implies that no Tweet IDs were given. |
| `errors.detail`                        | string                                                                                            | A human readable string containing information about the failure.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `errors.data`                          | object or null                                                                                    | Related information to the error can be found in this field. Some errors may not return any data, but most errors from this endpoint will at least contain the ID of the Tweet that threw the error in the `id` field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
</details>

#### Example Request

TODO: replace with the actual domain when that's up

```bash
curl -X GET "http://localhost:3000/tweets/1624773381865218051?tweet.fields=entities,edit_controls,public_metrics,reply_settings,source"
```

#### Example Response

```json
{
  "data": {
    "id": "1624773381865218051",
    "text": "I had a dream where I was commissioned to draw a snake holding a cup of coffee and spent the whole dream working out the logistics of this. In a world where I love many things, two things I do not particularly like are 1. Snakes, and 2. Coffee. But ok this is cute. https://t.co/KDwAGokUGx",
    "edit_history_tweet_ids": [
      "1624773381865218051"
    ],
    "edit_controls": {
      "editable_until": "2023-02-12T14:42:15.000Z",
      "is_edit_eligible": true,
      "edits_remaining": 5
    },
    "public_metrics": {
      "like_count": 1349,
      "retweet_count": 94,
      "reply_count": 21,
      "quote_count": 6,
      "impression_count": 29550
    },
    "reply_settings": "everyone",
    "source": "Twitter for iPhone"
  }
}
```

## Object Models

### Tweet Fields

An enum of strings that specifies the information that is returned in the tweet objects returned from the `/tweets` and `/tweets/:id` endpoints.

| Field                   | Details                                                                                              |
| :---------------------- | :--------------------------------------------------------------------------------------------------- |
| `'attachments'`         | Returns information about media (videos, images, and gifs) and polls.                                |
| `'author_id'`           | Returns the ID of the user authoring the tweet.                                                      |
| `'conversation_id'`     | Returns the ID of the conversation (ie the ID of the tweet at the start of the conversation).        |
| `'created_at'`          | Returns the datestring detailing when the Tweet was posted.                                          |
| `'edit_controls'`       | Returns information about how long the tweet is editable for.                                        |
| `'entities'`            | Returns information about mentions, hashtags, and urls in the tweet.                                 |
| `'in_reply_to_user_id'` | Returns the ID of the user the tweet is retweeting or responding to.                                 |
| `'lang'`                | Returns the language of the tweet.                                                                   |
| `'public_metrics'`      | Returns information about retweets, likes, replies, and impressions.                                 |
| `'possibly_sensitive'`  | Returns if the tweet is possibly sensitive or not.                                                   |
| `'referenced_tweets'`   | Returns the IDs that the tweet is retweeting or reply to.                                            |
| `'reply_settings'`      | Returns the audience that can reply to the tweet (everyone, those mentioned, or those followed).     |
| `'source'`              | Returns the client from which the Tweet was posted (eg Twitter for iPhone, Twitter Web Client, etc). |

Note that `'text'` and `'id'` are excluded because both are already provided by endpoints by default.

<details><summary>Typescript Enum</summary>
<p>

```typescript
export enum TweetField {
  ATTACHMENTS = 'attachments',
  AUTHOR_ID = 'author_id',
  CONVERSATION_ID = 'conversation_id',
  CREATED_AT = 'created_at',
  EDIT_CONTROLS = 'edit_controls',
  ENTITIES = 'entities',
  IN_REPLY_TO_USER_ID = 'in_reply_to_user_id',
  LANG = 'lang',
  PUBLIC_METRICS = 'public_metrics',
  POSSIBLY_SENSITIVE = 'possibly_sensitive',
  REFERENCED_TWEETS = 'referenced_tweets',
  REPLY_SETTINGS = 'reply_settings',
  SOURCE = 'source'
}
```

</p>
</details>

### Tweet

<details><summary>Typescript Interface</summary>
<p>

```typescript
interface Tweet {
  id: string
  text: string
  edit_history_tweet_ids: string[]
  attachments?: {
    poll_ids?: string[]
    media_keys?: string[]
  }
  author_id?: string
  conversation_id?: string
  created_at?: string // date string in the iso-8601 format
  edit_controls?: {
    edits_remaining: number
    is_edit_eligible: boolean
    editable_until: string // date string in the iso-8601 format
  }
  entities?: {
    hashtags?: Array<{
      start: number
      end: number
      tag: string
    }>
    mentions?: Array<{
      start: number
      end: number
      username: string
    }>
    urls?: Array<{
      start: number
      end: number
      url: string
      expanded_url: string
      display_url: string
    }>
  }
  in_reply_to_user_id?: string
  lang?: string // BCP47 language tag
  public_metrics?: {
    retweet_count: number
    reply_count: number
    like_count: number
    quote_count: number
    impression_count?: number
  }
  possibly_sensitive?: boolean
  referenced_tweets?: Array<{
    type: 'retweeted' | 'replied_to' | 'quoted'
    id: string
  }>
  reply_settings?: 'everyone' | 'mentioned_users' | 'followers'
  source?: string
}
```
</p>
</details>
